version: "3.0"

stories:

- story: Say hello with name
  steps:
  - intent: greet
  - action: utter_greet
  - intent: self_introduction
  - action: utter_followup


- story: Start help seeking procedure
  steps:
  - intent: help_seeking
  - action: utter_help_seeking_start


- story: Seek help to solve/simplify an equation
  steps:
  - intent: help_seeking_problem_solving
  - action: utter_ask_for_equation
  - action: math_form
  - active_loop: math_form
  - slot_was_set: 
    - requested_slot: help_seeking_mode
    - requested_slot: equation
  - action: action_resolve_equation
  - active_loop: null


- story: Seek help to solve an equation
  steps:
  - intent: help_seeking_recommendation
  - action: utter_ask_for_topic
- story: interactive_story_1
  steps:
  - intent: greet
  - action: utter_greet
  - intent: self_introduction
    entities:
    - name: Chenglu
  - slot_was_set:
    - name: Chenglu
  - slot_was_set:
    - equation: My name is Chenglu
  - action: utter_followup
  - intent: background
  - slot_was_set:
    - equation: What is your research interest?
  - action: utter_background
  - action: utter_math_ability
  - intent: help_seeking
  - slot_was_set:
    - equation: /help_seeking
  - action: utter_help_seeking_start
  - intent: help_seeking_problem_solving
    entities:
    - help_seeking_mode: solve
  - slot_was_set:
    - equation: '/help_seeking_problem_solving{"help_seeking_mode": "solve"}'
  - slot_was_set:
    - help_seeking_mode: solve
  - action: utter_ask_for_equation
  - action: utter_ask_for_equation
  - action: math_form
  - active_loop: math_form
  - slot_was_set:
    - requested_slot: null
  - active_loop: null
  - intent: help_seeking_problem_solving
    entities:
    - equation: 1x+2=3
  - slot_was_set:
    - equation: 1x+2=3
  - action: action_resolve_equation

- story: interactive_story_1
  steps:
  - intent: greet
  - slot_was_set:
    - equation: hi
  - action: utter_greet
  - intent: self_introduction
    entities:
    - name: chenglu
  - slot_was_set:
    - name: chenglu
  - slot_was_set:
    - equation: I am chenglu!
  - action: utter_followup
  - intent: background
  - slot_was_set:
    - equation: Where have you studied?
  - action: utter_background
  - action: utter_math_ability
  - intent: deny
  - slot_was_set:
    - equation: /deny
  - action: utter_deny_response
  - intent: help_seeking
  - slot_was_set:
    - equation: helppppppp!
  - action: utter_help_seeking_start
  - intent: help_seeking_problem_solving
    entities:
    - help_seeking_mode: simplify
  - slot_was_set:
    - equation: '/help_seeking_problem_solving{"help_seeking_mode": "simplify"}'
  - slot_was_set:
    - help_seeking_mode: simplify
  - action: utter_ask_for_equation
  - action: math_form
  - active_loop: math_form
  - slot_was_set:
    - requested_slot: equation
  - active_loop: null
    entities:
    - equation: 5x+2*4=1
  - action: action_resolve_equation
